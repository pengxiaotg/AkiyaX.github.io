---
title: 'C#è®¾è®¡æ¨¡å¼[2] - å·¥å‚æ–¹æ³•æ¨¡å¼'
category: è®¾è®¡æ¨¡å¼
tags: .NET
date: 2020-03-19 23:04:23
id: factory-method-pattern
---

# æ¦‚è¿°

ä»ç„¶ä½¿ç”¨ä¸Šä¸€ç¯‡ç®€å•å·¥å‚æ¨¡å¼ä¸­çš„ä¾‹å­ï¼Œåœ¨æ°´æœå†œåœºä¸­ï¼Œ`FruitFactory`å¯ä»¥è¿”å›å…·ä½“çš„æ°´æœå®ä¾‹ï¼ŒåŒ…æ‹¬ğŸå’ŒğŸŠç­‰ç­‰ï¼Œä½†æ˜¯å¦‚æœè¿™ä¸ªæ°´æœå†œåœºæ–°å¢äº†ä¸€ç§æ°´æœï¼Œæ¯”å¦‚ğŸ‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬é™¤äº†æ–°å¢ğŸ‰ç±»ä»¥å¤–ï¼Œè¿˜éœ€è¦ä¿®æ”¹`FruitFactory`çš„ä»£ç ï¼Œä½¿å¾—æ•´ä¸ªè®¾è®¡è¿åäº†[å¼€é—­åŸåˆ™](https://akiyax.github.io/csharp-design-pattern/#%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99)ã€‚

å› æ­¤æˆ‘ä»¬ä¸å†ä½¿ç”¨ä¸€ä¸ª`FruitFactory`æ¥ç»Ÿä¸€è´Ÿè´£æ‰€æœ‰æ°´æœå®ä¾‹çš„åˆ›å»ºï¼Œè€Œæ˜¯äº¤ç»™ä¸“é—¨çš„å·¥å‚å­ç±»å»å®Œæˆã€‚

>**å·¥å‚æ–¹æ³•æ¨¡å¼**ï¼šå®šä¹‰ä¸€ä¸ªç”¨äºåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œä½†æ˜¯è®©å­ç±»å†³å®šå°†å“ªä¸€ä¸ªç±»å®ä¾‹åŒ–ï¼Œå·¥å‚æ–¹æ³•æ¨¡å¼è®©ä¸€ä¸ªç±»çš„å®ä¾‹åŒ–å»¶è¿Ÿåˆ°å…¶å­ç±»ã€‚

ä½¿ç”¨é¢‘ç‡ï¼šâ˜…â˜…â˜…â˜…â˜…

# ç»“æ„ä¸å®ç°

ç›¸å¯¹äºç®€å•å·¥å‚æ¨¡å¼ï¼Œå·¥å‚æ–¹æ³•æ¨¡å¼å°†Factoryï¼ˆå·¥å‚è§’è‰²ï¼‰æ‹†åˆ†æˆäº†

- AbstractFactoryï¼ˆæŠ½è±¡å·¥å‚è§’è‰²ï¼‰
- ConcreteFactoryï¼ˆå…·ä½“å·¥å‚è§’è‰²ï¼‰

å¦å¤–è¿˜åŒ…æ‹¬

- Product ï¼ˆæŠ½è±¡äº§å“è§’è‰²ï¼‰
- ConcreteProduct ï¼ˆå…·ä½“äº§å“è§’è‰²ï¼‰

ä¸€å…±4ç§è§’è‰²ã€‚

Menlo, Monaco, Consolas, Courier New, monospace;


{% plantuml %}

    !includeurl https://raw.githubusercontent.com/AkiyaX/AkiyaX.github.io/hexo/src/theme.puml   

    package ConcreteFactory <<Folder>> {
        class AppleFactory
        class OrangeFactory
    }

    package ConcreteProduct <<Folder>> {
        class Apple
        class Orange
    }

    abstract class Fruit {
        + void MethodSame()
        + {abstract} void MethodDiff()
    }
    class Apple {
        + void MethodDiff()
    }
    class Orange {
        + void MethodDiff()
    }
    
    interface FruitFactory {
        + Fruit GetFruit()
    }

    class AppleFactory {
        + Fruit GetFruit()
    }

    class OrangeFactory {
        + Fruit GetFruit()
    }

    Apple --|> Fruit
    Orange --|> Fruit
    FruitFactory <|-- AppleFactory
    FruitFactory <|-- OrangeFactory
    AppleFactory ..> Apple : <<create>>
    OrangeFactory ..> Orange : <<create>>

    

{% endplantuml %}


# ä¼˜ç¼ºç‚¹

ä¼˜ç‚¹ï¼š

ç¼ºç‚¹ï¼š

# é€‚ç”¨åœºæ™¯